\documentclass{article}

\input{test2e}

% 2.17r gave low level argument errors as teh \if nesting
% was wrong if the \futurelet found a primitive \if... token

\usepackage{amsmath}


\newcommand\test{\iftrue x\fi}

\DeclareRobustCommand\testr{\DOTSB+}
\protected\def\testp{\DOTSB-}
\def\testd{\DOTSB*}

\begin{document}

\START
\showoutput
$ x \dots \testr$

$ x \dots \testp$

$ x \dots \testd$

$x \dots \iffalse a\else b\fi $

$x \dots \test$

$x \dots \boldsymbol{y} $


\end{document}