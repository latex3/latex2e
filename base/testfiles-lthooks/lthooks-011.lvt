\RequirePackage[enable-debug]{expl3}
\ExplSyntaxOn
\debug_on:n { check-declarations , deprecation }
\ExplSyntaxOff

\documentclass{article}

\input{regression-test}

\DebugHooksOn

\START

\ExplSyntaxOn

\hook_new:n{xxx}

% Ensure that unfortunately-named labels don't wreck our code

\hook_gput_code:nnn{xxx}{front}{foo}
\__hook_initialize_all:
\cs_set_eq:NN  \__hook_update_hook_code:n   \use_none:n % pretend previous cs didn't run


\hook_gput_code:nnn{xxx}{rear}{bar}
\__hook_initialize_all:
\cs_set_eq:NN  \__hook_update_hook_code:n   \use_none:n % pretend previous cs didn't run


\hook_gput_code:nnn{xxx}{labels}{baz}
\__hook_initialize_all:
\cs_set_eq:NN  \__hook_update_hook_code:n   \use_none:n % pretend previous cs didn't run


\hook_gput_code:nnn{xxx}{return}{boom}
\__hook_initialize_all:
\cs_set_eq:NN  \__hook_update_hook_code:n   \use_none:n % pretend previous cs didn't run


\END
