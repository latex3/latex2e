\RequirePackage[enable-debug]{expl3}
\ExplSyntaxOn
\debug_on:n { check-declarations , deprecation }
\ExplSyntaxOff

% Test global -> rule

\documentclass{article}

\input{regression-test}

\usepackage[debug]{lthooks}

\begin{document}

\NewHook{aaa}

\AddToHook{aaa}[label1]{code1}
\AddToHook{aaa}[label2]{code2}

% This should update all hooks that contain
% code from label1 and label2, but it doesn't
% because '??' isn't recognised:
\DeclareHookRule{??}{label1}{removes}{label2}

\ShowHook{aaa}

\ExplSyntaxOn
\__hook_initialize_hook_code:n {aaa}
\ExplSyntaxOff

\ShowHook{aaa}

\END
